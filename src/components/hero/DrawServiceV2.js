import WaterColor0 from "components/asciiArt/water-color-universe/water-color-00.txt";
import WaterColor1 from "components/asciiArt/water-color-universe/water-color-01.txt";
import WaterColor2 from "components/asciiArt/water-color-universe/water-color-02.txt";
import WaterColor3 from "components/asciiArt/water-color-universe/water-color-03.txt";
import WaterColor4 from "components/asciiArt/water-color-universe/water-color-04.txt";
import WaterColor5 from "components/asciiArt/water-color-universe/water-color-05.txt";
import WaterColor6 from "components/asciiArt/water-color-universe/water-color-06.txt";
import WaterColor7 from "components/asciiArt/water-color-universe/water-color-07.txt";
import WaterColor8 from "components/asciiArt/water-color-universe/water-color-08.txt";
import WaterColor9 from "components/asciiArt/water-color-universe/water-color-09.txt";
import WaterColor10 from "components/asciiArt/water-color-universe/water-color-10.txt";

import WaterColor11 from "components/asciiArt/water-color-universe/water-color-11.txt";
import WaterColor12 from "components/asciiArt/water-color-universe/water-color-12.txt";
import WaterColor13 from "components/asciiArt/water-color-universe/water-color-13.txt";
import WaterColor14 from "components/asciiArt/water-color-universe/water-color-14.txt";
import WaterColor15 from "components/asciiArt/water-color-universe/water-color-15.txt";
import WaterColor16 from "components/asciiArt/water-color-universe/water-color-16.txt";
import WaterColor17 from "components/asciiArt/water-color-universe/water-color-17.txt";
import WaterColor18 from "components/asciiArt/water-color-universe/water-color-18.txt";
import WaterColor19 from "components/asciiArt/water-color-universe/water-color-19.txt";
import WaterColor20 from "components/asciiArt/water-color-universe/water-color-20.txt";

import WaterColor21 from "components/asciiArt/water-color-universe/water-color-21.txt";
import WaterColor22 from "components/asciiArt/water-color-universe/water-color-22.txt";
import WaterColor23 from "components/asciiArt/water-color-universe/water-color-23.txt";
import WaterColor24 from "components/asciiArt/water-color-universe/water-color-24.txt";
import WaterColor25 from "components/asciiArt/water-color-universe/water-color-25.txt";
import WaterColor26 from "components/asciiArt/water-color-universe/water-color-26.txt";
import WaterColor27 from "components/asciiArt/water-color-universe/water-color-27.txt";
import WaterColor28 from "components/asciiArt/water-color-universe/water-color-28.txt";
import WaterColor29 from "components/asciiArt/water-color-universe/water-color-29.txt";
import WaterColor30 from "components/asciiArt/water-color-universe/water-color-30.txt";

import WaterColor31 from "components/asciiArt/water-color-universe/water-color-31.txt";
import WaterColor32 from "components/asciiArt/water-color-universe/water-color-32.txt";
import WaterColor33 from "components/asciiArt/water-color-universe/water-color-33.txt";
import WaterColor34 from "components/asciiArt/water-color-universe/water-color-34.txt";
import WaterColor35 from "components/asciiArt/water-color-universe/water-color-35.txt";
import WaterColor36 from "components/asciiArt/water-color-universe/water-color-36.txt";
import WaterColor37 from "components/asciiArt/water-color-universe/water-color-37.txt";
import WaterColor38 from "components/asciiArt/water-color-universe/water-color-38.txt";
import WaterColor39 from "components/asciiArt/water-color-universe/water-color-39.txt";
import WaterColor40 from "components/asciiArt/water-color-universe/water-color-40.txt";

import WaterColor41 from "components/asciiArt/water-color-universe/water-color-41.txt";
import WaterColor42 from "components/asciiArt/water-color-universe/water-color-42.txt";
import WaterColor43 from "components/asciiArt/water-color-universe/water-color-43.txt";
import WaterColor44 from "components/asciiArt/water-color-universe/water-color-44.txt";
import WaterColor45 from "components/asciiArt/water-color-universe/water-color-45.txt";
import WaterColor46 from "components/asciiArt/water-color-universe/water-color-46.txt";
import WaterColor47 from "components/asciiArt/water-color-universe/water-color-47.txt";
import WaterColor48 from "components/asciiArt/water-color-universe/water-color-48.txt";
import WaterColor49 from "components/asciiArt/water-color-universe/water-color-49.txt";
import WaterColor50 from "components/asciiArt/water-color-universe/water-color-50.txt";

import WaterColor51 from "components/asciiArt/water-color-universe/water-color-51.txt";
import WaterColor52 from "components/asciiArt/water-color-universe/water-color-52.txt";
import WaterColor53 from "components/asciiArt/water-color-universe/water-color-53.txt";
import WaterColor54 from "components/asciiArt/water-color-universe/water-color-54.txt";
import WaterColor55 from "components/asciiArt/water-color-universe/water-color-55.txt";
import WaterColor56 from "components/asciiArt/water-color-universe/water-color-56.txt";
import WaterColor57 from "components/asciiArt/water-color-universe/water-color-57.txt";
import WaterColor58 from "components/asciiArt/water-color-universe/water-color-58.txt";
import WaterColor59 from "components/asciiArt/water-color-universe/water-color-59.txt";
import WaterColor60 from "components/asciiArt/water-color-universe/water-color-60.txt";

import WaterColor61 from "components/asciiArt/water-color-universe/water-color-61.txt";
import WaterColor62 from "components/asciiArt/water-color-universe/water-color-62.txt";
import WaterColor63 from "components/asciiArt/water-color-universe/water-color-63.txt";
import WaterColor64 from "components/asciiArt/water-color-universe/water-color-64.txt";
import WaterColor65 from "components/asciiArt/water-color-universe/water-color-65.txt";
import WaterColor66 from "components/asciiArt/water-color-universe/water-color-66.txt";
import WaterColor67 from "components/asciiArt/water-color-universe/water-color-67.txt";
import WaterColor68 from "components/asciiArt/water-color-universe/water-color-68.txt";
import WaterColor69 from "components/asciiArt/water-color-universe/water-color-69.txt";
import WaterColor70 from "components/asciiArt/water-color-universe/water-color-70.txt";

import WaterColor71 from "components/asciiArt/water-color-universe/water-color-71.txt";
import WaterColor72 from "components/asciiArt/water-color-universe/water-color-72.txt";
import WaterColor73 from "components/asciiArt/water-color-universe/water-color-73.txt";
import WaterColor74 from "components/asciiArt/water-color-universe/water-color-74.txt";
import WaterColor75 from "components/asciiArt/water-color-universe/water-color-75.txt";
import WaterColor76 from "components/asciiArt/water-color-universe/water-color-76.txt";
import WaterColor77 from "components/asciiArt/water-color-universe/water-color-77.txt";
import WaterColor78 from "components/asciiArt/water-color-universe/water-color-78.txt";
import WaterColor79 from "components/asciiArt/water-color-universe/water-color-79.txt";
import WaterColor80 from "components/asciiArt/water-color-universe/water-color-80.txt";

import WaterColor81 from "components/asciiArt/water-color-universe/water-color-81.txt";
import WaterColor82 from "components/asciiArt/water-color-universe/water-color-82.txt";
import WaterColor83 from "components/asciiArt/water-color-universe/water-color-83.txt";
import WaterColor84 from "components/asciiArt/water-color-universe/water-color-84.txt";
import WaterColor85 from "components/asciiArt/water-color-universe/water-color-85.txt";
import WaterColor86 from "components/asciiArt/water-color-universe/water-color-86.txt";
import WaterColor87 from "components/asciiArt/water-color-universe/water-color-87.txt";
import WaterColor88 from "components/asciiArt/water-color-universe/water-color-88.txt";
import WaterColor89 from "components/asciiArt/water-color-universe/water-color-89.txt";
import WaterColor90 from "components/asciiArt/water-color-universe/water-color-90.txt";

import WaterColor91 from "components/asciiArt/water-color-universe/water-color-91.txt";
import WaterColor92 from "components/asciiArt/water-color-universe/water-color-92.txt";
import WaterColor93 from "components/asciiArt/water-color-universe/water-color-93.txt";
import WaterColor94 from "components/asciiArt/water-color-universe/water-color-94.txt";
import WaterColor95 from "components/asciiArt/water-color-universe/water-color-95.txt";
import WaterColor96 from "components/asciiArt/water-color-universe/water-color-96.txt";
import WaterColor97 from "components/asciiArt/water-color-universe/water-color-97.txt";
import WaterColor98 from "components/asciiArt/water-color-universe/water-color-98.txt";
import WaterColor99 from "components/asciiArt/water-color-universe/water-color-99.txt";
import WaterColor100 from "components/asciiArt/water-color-universe/water-color-100.txt";

const cols = 370;
const rows = 70;

const hideCharPercent = .005;

const lowLimit = 0;
const highLimit = 100;

export function updateImageState(type, dir, currI) {
  let multiplier = .20;

  if (currI === lowLimit) {
    dir = 1;
  } else if (currI === highLimit) {
    dir = -1;
  }

  console.log(currI)

  if (currI > 10 && currI < 90) {
    multiplier = .30;
    if (currI > 20 && currI < 80) {
      multiplier = .40;
      if (currI > 30 && currI < 70) {
        multiplier = .50;
        if (currI > 40 && currI < 60) {
          multiplier = .60;
          if (currI >= 48 && currI < 52) {
            multiplier = .15;
            if (currI === 50) {
              multiplier = .05;
            }
          }
        }
      }
    }
  }

  if(Math.random() < multiplier) {
    console.log('Move Triggered');
    currI = currI + dir;
  }

  return {
    direction: dir,
    currentIndex: currI
  };
}

export function fetchNextImage(type, imageNumber) {

  console.log(`FETCHING ${type}-${imageNumber}.txt`);
  const frameFile = getWaterColorFile(imageNumber);

  return fetch(frameFile)
    .then(r => {
      const text = r.text();
      return text;
    });
}

function getWaterColorFile(imageNumber) {
  switch(imageNumber) {
    case 0:
      return WaterColor0;
    case 1:
      return WaterColor1;
    case 2:
      return WaterColor2;
    case 3:
      return WaterColor3;
    case 4:
      return WaterColor4;
    case 5:
      return WaterColor5;
    case 6:
      return WaterColor6;
    case 7:
      return WaterColor7;
    case 8:
      return WaterColor8;
    case 9:
      return WaterColor9;
    case 10:
      return WaterColor10;
    case 11:
      return WaterColor11;
    case 12:
      return WaterColor12;
    case 13:
      return WaterColor13;
    case 14:
      return WaterColor14;
    case 15:
      return WaterColor15;
    case 16:
      return WaterColor16;
    case 17:
      return WaterColor17;
    case 18:
      return WaterColor18;
    case 19:
      return WaterColor19;
    case 20:
      return WaterColor20;
    case 21:
      return WaterColor21;
    case 22:
      return WaterColor22;
    case 23:
      return WaterColor23;
    case 24:
      return WaterColor24;
    case 25:
      return WaterColor25;
    case 26:
      return WaterColor26;
    case 27:
      return WaterColor27;
    case 28:
      return WaterColor28;
    case 29:
      return WaterColor29;
    case 30:
      return WaterColor30;
    case 31:
      return WaterColor31;
    case 32:
      return WaterColor32;
    case 33:
      return WaterColor33;
    case 34:
      return WaterColor34;
    case 35:
      return WaterColor35;
    case 36:
      return WaterColor36;
    case 37:
      return WaterColor37;
    case 38:
      return WaterColor38;
    case 39:
      return WaterColor39;
    case 40:
      return WaterColor40;
    case 41:
      return WaterColor41;
    case 42:
      return WaterColor42;
    case 43:
      return WaterColor43;
    case 44:
      return WaterColor44;
    case 45:
      return WaterColor45;
    case 46:
      return WaterColor46;
    case 47:
      return WaterColor47;
    case 48:
      return WaterColor48;
    case 49:
      return WaterColor49;
    case 50:
      return WaterColor50;
    case 51:
      return WaterColor51;
    case 52:
      return WaterColor52;
    case 53:
      return WaterColor53;
    case 54:
      return WaterColor54;
    case 55:
      return WaterColor55;
    case 56:
      return WaterColor56;
    case 57:
      return WaterColor57;
    case 58:
      return WaterColor58;
    case 59:
      return WaterColor59;
    case 60:
      return WaterColor60;
    case 61:
      return WaterColor61;
    case 62:
      return WaterColor62;
    case 63:
      return WaterColor63;
    case 64:
      return WaterColor64;
    case 65:
      return WaterColor65;
    case 66:
      return WaterColor66;
    case 67:
      return WaterColor67;
    case 68:
      return WaterColor68;
    case 69:
      return WaterColor69;
    case 70:
      return WaterColor70;
    case 71:
      return WaterColor71;
    case 72:
      return WaterColor72;
    case 73:
      return WaterColor73;
    case 74:
      return WaterColor74;
    case 75:
      return WaterColor75;
    case 76:
      return WaterColor76;
    case 77:
      return WaterColor77;
    case 78:
      return WaterColor78;
    case 79:
      return WaterColor79;
    case 80:
      return WaterColor80;
    case 81:
      return WaterColor81;
    case 82:
      return WaterColor82;
    case 83:
      return WaterColor83;
    case 84:
      return WaterColor84;
    case 85:
      return WaterColor85;
    case 86:
      return WaterColor86;
    case 87:
      return WaterColor87;
    case 88:
      return WaterColor88;
    case 89:
      return WaterColor89;
    case 90:
      return WaterColor90;
    case 91:
      return WaterColor91;
    case 92:
      return WaterColor92;
    case 93:
      return WaterColor93;
    case 94:
      return WaterColor94;
    case 95:
      return WaterColor95;
    case 96:
      return WaterColor96;
    case 97:
      return WaterColor97;
    case 98:
      return WaterColor98;
    case 99:
      return WaterColor99;
    case 100:
      return WaterColor100;
    default:
      return WaterColor0;
  }
}

export function generateNextFrameV2(model, currentImageIndex) {
  return modifyImage(model, rows, cols, currentImageIndex);
};

function generateCharFromChar(modelLine, c, currentImageIndex) {

  let nextChar = modelLine[c];
  let multiplier = 1;

  if (currentImageIndex.current > 10 && currentImageIndex.current < 90) {
    multiplier = 1.5;
    if (currentImageIndex.current > 20 && currentImageIndex.current < 80) {
      multiplier = 3;
      if (currentImageIndex.current > 30 && currentImageIndex.current < 70) {
        multiplier = 7;
        if (currentImageIndex.current > 40 && currentImageIndex.current < 60) {
          multiplier = 15;
          if (currentImageIndex.current >= 48 && currentImageIndex.current <= 52) {
            multiplier = 20;
            if (currentImageIndex.current === 50) {
              multiplier = 25;
            }
          }
        }
      }
    }
  }

  if(Math.random() < (hideCharPercent * multiplier)) {
    nextChar = ' ';
  }

  return nextChar;
}

function modifyImage(model, _rows, _cols, currentImageIndex) {
  let newModel = [];
  try {    
    for(let r = 0; r < _rows; r++) {
      const wholeStr = model[r];
  
      // eslint-disable-next-line
      const [first, second] = [wholeStr.slice(0, _cols), wholeStr.slice(_cols)];
      let nextLine = '';
      for(let c = 0; c < _cols; c++) {
        nextLine = nextLine + generateCharFromChar(first, c, currentImageIndex);
      }
      newModel.push(nextLine);
    }
  } catch (e) {
    console.log('something bad happened when modifying image...', e);
  }
  return newModel;
}
